FROM biolinh/postgres-client:11
MAINTAINER linh.bio@gmail.com

ARG PSQL_USERNAME="postgres"
ARG PSQL_PASSWORD
ARG PSQL_HOST="localhost"
ARG PSQL_DBNAMES="all"
ARG PSQL_BACKUP_DIR="/backup"
ARG PSQL_EXCLUDE
ARG PSQL_STORED_DAY=7

ENV PSQL_USERNAME=${PSQL_USERNAME}
ENV PSQL_HOST=${PSQL_HOST}
ENV PSQL_DBNAMES=${PSQL_DBNAMES}
ENV PSQL_BACKUP_DIR=${PSQL_BACKUP_DIR}
ENV PSQL_EXCLUDE=${PSQL_EXCLUDE}
ENV PSQL_PASSWORD=${PSQL_PASSWORD}
ENV PSQL_STORED_DAY=${PSQL_STORED_DAY}

ADD ./Backup_Postgresql_Database.sh / 
RUN chmod +x /Backup_Postgresql_Database.sh

ENTRYPOINT ["/Backup_Postgresql_Database.sh"]
